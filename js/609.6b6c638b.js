"use strict";(self["webpackChunkariamin"]=self["webpackChunkariamin"]||[]).push([[609],{7388:(e,t,d)=>{d.r(t),d.d(t,{default:()=>I});d(71);var a=d(3673),i=d(2323),r=d(8880),n=d(1959),o=d(3001);const m={class:"row"},s={class:"q-px-sm"},l={class:"row q-gutter-xs q-my-xs"},c=(0,a.Uk)(" Need File "),u={key:0},w={key:0,class:"column q-py-xs q-gutter-sm"},p=["dir"],C={key:1},x={props:{item:{type:Object,default:()=>{}},index:Number},setup(e){const t=e,{tables:d,methods:x,state:f}=o.Z,g=(0,n.iH)(!0),b=()=>{x.update([["moreInfo",[{name:"Edit",icon:"edit",func:()=>{x.update([["medDirection",[f.medCart[t.index].dirP,f.medCart[t.index].dirC]],["driP",f.medCart[t.index].dirP],["driI",f.medCart[t.index].dirI],["driC",f.medCart[t.index].dirC],["medIndex",t.index],["ordCount",f.medCart[t.index].ordCount],["delCount",f.medCart[t.index].delCount],["ifOutPresc",f.medCart[t.index].ifOutPresc],["searchItem.badge",f.medCart[t.index].dForm],["searchItem.title",f.medCart[t.index].name]]).then((()=>x.dlgConf({title:"edit",type:"addmed"})))}},{icon:"qr_code_2",name:"Scan Barcode",show:t.item.needBarcode,func:()=>{x.update([["medIndex",t.index],["barcodeList",f.medCart[t.index].barcodes.map((e=>({barcode:e.barcode||e.UID,count:e.count})))]]).then((()=>x.dlgConf({type:"barcode"})))}},{icon:"delete",name:"Delete",color:"negative",func:()=>{x.update([["medCart",t.index,"rm"]]),x.dlgConf({})}}]]]),x.dlgConf({type:"moreinfo"})};return(e,o)=>{const x=(0,a.up)("q-badge"),f=(0,a.up)("q-item-label"),k=(0,a.up)("q-item-section"),y=(0,a.up)("q-icon"),_=(0,a.up)("q-item");return(0,a.wg)(),(0,a.j4)(_,{class:"column q-px-sm"},{default:(0,a.w5)((()=>[(0,a._)("div",m,[t.item.bulkId?((0,a.wg)(),(0,a.j4)(k,{key:1},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{lines:"1"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(t.item.name),1)])),_:1})])),_:1})):((0,a.wg)(),(0,a.j4)(k,{key:0},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{class:"ellipsis-2-lines"},{default:(0,a.w5)((()=>[(0,a.Wm)(x,{class:"text-uppercase text-weight-bold",label:t.item.dForm.slice(0,3),color:"primary"},null,8,["label"]),(0,a._)("span",s,(0,i.zw)(t.item.name),1),t.item.dose?((0,a.wg)(),(0,a.j4)(x,{key:0,color:"primary",class:"text-uppercase text-weight-bold",label:t.item.dose},null,8,["label"])):(0,a.kq)("",!0)])),_:1}),(0,a.Wm)(f,{caption:"",lines:"1"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(`${t.item.price.payable.toLocaleString("en")} Riyal - ${t.item.dirC} ${t.item.dirP}`),1)])),_:1}),(0,a.Wm)(f,{caption:""},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(`Amount: ${t.item.delCount} / ${t.item.ordCount}  ${t.item.dForm}`),1)])),_:1})])),_:1})),(0,a.Wm)(k,{class:"row",side:"",top:""},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{color:"grey",name:"more_vert",onClick:b})])),_:1})]),(0,a._)("div",l,[(0,a.wy)((0,a.Wm)(x,{square:"",class:"succBox"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(`${t.item.maxCovered} Insured`),1)])),_:1},512),[[r.F8,t.item.maxCovered]]),(0,a.wy)((0,a.Wm)(x,{square:"",class:"warnBox"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(t.item.delCount-t.item.maxCovered+" Uninsured"),1)])),_:1},512),[[r.F8,t.item.delCount>t.item.maxCovered&&t.item.maxCovered]]),(0,a.wy)((0,a.Wm)(x,{square:"",class:"errBox"},{default:(0,a.w5)((()=>[c])),_:1},512),[[r.F8,t.item.needFile]]),(0,a.wy)((0,a.Wm)(x,{square:"",class:(0,i.C_)(t.item.barcodes.filter((e=>"positive"===e.status)).length?"succBox":"warnBox")},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(t.item.barcodes.length?`${t.item.barcodes.filter((e=>"positive"===e.status)).length} Barcodes`:"Need Barcode"),1)])),_:1},8,["class"]),[[r.F8,t.item.needBarcode]])]),t.item.hasOwnProperty("notes")?((0,a.wg)(),(0,a.iD)("div",u,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)([...new Set(t.item.notes.map((e=>e[0])))],((e,r)=>((0,a.wg)(),(0,a.iD)("div",{key:r,class:(0,i.C_)(["row rounded-borders q-px-sm q-mt-xs",`bg-${(0,n.SU)(d).abbr[e]}`]),onClick:o[0]||(o[0]=e=>g.value=!g.value)},[g.value?((0,a.wg)(),(0,a.iD)("span",C,(0,i.zw)(t.item.notes.filter((t=>t[0]===e)).length)+" Items",1)):((0,a.wg)(),(0,a.iD)("div",w,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.item.notes.filter((t=>t[0]===e)),((e,t)=>((0,a.wg)(),(0,a.iD)("span",{key:t,dir:e[2]},(0,i.zw)(t+1)+" - "+(0,i.zw)(e[1]),9,p)))),128))]))],2)))),128))])):(0,a.kq)("",!0)])),_:1})}}};var f=d(4260),g=d(3414),b=d(2035),k=d(2350),y=d(9721),_=d(4554),q=d(7518),v=d.n(q);const h=(0,f.Z)(x,[["__scopeId","data-v-4c4ea860"]]),I=h;v()(x,"components",{QItem:g.Z,QItemSection:b.Z,QItemLabel:k.Z,QBadge:y.Z,QIcon:_.Z})}}]);