(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{"207e":function(e,t,s){"use strict";s("6f77")},"4a79":function(e,t,s){"use strict";s.r(t);var l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-page",{staticClass:"column"},[s("div",{staticClass:"self-center text-h6 q-mt-sm"},[e._v(e._s("login"===e.currPage?"ورود به حساب کاربری":"ثبت حساب کاربری"))]),s("q-scroll-area",{staticClass:"column",staticStyle:{flex:"1"}},[s("div",{staticStyle:{height:"250px",width:"100%"}}),"login"===e.currPage&&1===e.step?s("div",{staticClass:"column items-center",staticStyle:{flex:"1"},attrs:{id:"login"}},[s("div",{staticClass:"self-center",staticStyle:{width:"90%"}},[s("q-btn-toggle",{staticClass:"my-custom-toggle bg-white",attrs:{push:"",spread:"","no-caps":"",unelevated:"","toggle-color":"secondary","toggle-text-color":"white",color:"transparent","text-color":"secondary",options:[{label:"ورود توسط شماره موبایل",value:"usePhone"},{label:"ورود توسط ایمیل",value:"useEmail"}]},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}})],1),s("div",{staticClass:"column q-pa-sm",staticStyle:{width:"95%",background:"transparent"}},["usePhone"===e.tab?s("div",{staticClass:"column full-width"},[s("q-input",{attrs:{filled:"",dense:"",type:"tel",autocomplete:"off",placeholder:"شماره موبایل",name:"cellphone",mask:"###########",rules:[function(e){return 11===e.length||"شماره موبایل باید ۱۱ رقم باشد!"}]},model:{value:e.logCell,callback:function(t){e.logCell=t},expression:"logCell"}})],1):e._e(),"useEmail"===e.tab?s("div",{staticClass:"column full-width"},[s("q-input",{attrs:{filled:"",dense:"",autocomplete:"off",placeholder:"ایمیل",name:"emailOrUser"},model:{value:e.logEmail,callback:function(t){e.logEmail=t},expression:"logEmail"}}),s("q-input",{attrs:{filled:"",dense:"",type:"password",autocomplete:"off",placeholder:"گذرواژه",name:"password"},model:{value:e.logPass,callback:function(t){e.logPass=t},expression:"logPass"}}),s("div",{staticClass:"q-mt-lg"},[e._v("\n            گذرواژه را فراموش کردید؟\n          ")])],1):e._e()])]):e._e(),"signup"===e.currPage&&1===e.step?s("div",{staticClass:"column items-center",staticStyle:{flex:"1",width:"100%"},attrs:{id:"signup"}},[s("span",[e._v("\n        شماره موبایل خود را وارد کنید؟\n      ")]),s("q-input",{staticStyle:{width:"90%"},attrs:{filled:"",dense:"",autocomplete:"off",placeholder:"شماره ملی",name:"signupCellphone",type:"tel",mask:"###########",rules:[function(e){return 11===e.length||"شماره موبایل باید ۱۱ رقم باشد!"}]},model:{value:e.signCell,callback:function(t){e.signCell=t},expression:"signCell"}})],1):e._e(),"login"===e.currPage&&2===e.step?s("div",{staticClass:"column items-center",staticStyle:{flex:"1",width:"100%"},attrs:{id:"signup"}},[s("span",[e._v("\n        کد فعال سازی برای شماره موبایل شما ارسال شد.\n      ")]),s("q-input",{staticStyle:{width:"90%"},attrs:{filled:"",dense:"",autocomplete:"off",placeholder:"کد فعال سازی",name:"verifyCode",type:"text",mask:"XXXXXXX",rules:[function(e){return 7===e.length||"کد فعال سازی باید ۷ رقم باشد!"}]},model:{value:e.logVerifyCell,callback:function(t){e.logVerifyCell=t},expression:"logVerifyCell"}})],1):e._e(),"signup"===e.currPage&&2===e.step?s("div",{staticClass:"column items-center",staticStyle:{flex:"1",width:"100%"},attrs:{id:"signup"}},[s("span",[e._v("\n        کد فعال سازی برای شماره موبایل شما ارسال شد.\n      ")]),s("q-input",{staticStyle:{width:"90%"},attrs:{filled:"",dense:"",autocomplete:"off",placeholder:"کد فعال سازی",name:"verifyCode",type:"text",mask:"XXXXXXX",rules:[function(e){return 7===e.length||"کد فعال سازی باید ۷ رقم باشد!"}]},model:{value:e.signVerifyCell,callback:function(t){e.signVerifyCell=t},expression:"signVerifyCell"}})],1):e._e(),"signup"===e.currPage&&3===e.step?s("div",{staticClass:"column items-center",staticStyle:{flex:"1",width:"100%"},attrs:{id:"userInfo"}},[s("span",[e._v("\n        لطفا اطلاعات کاربری خود را تکمیل کنید.\n      ")]),s("div",{staticClass:"column",staticStyle:{width:"90%"}},[s("q-input",{staticStyle:{flex:"1"},attrs:{filled:"",dense:"",tabindex:"1",name:"ssn",type:"tel",autocomplete:"off",placeholder:"شماره ملی",mask:"##########"},model:{value:e.userInfo.ssn,callback:function(t){e.$set(e.userInfo,"ssn",t)},expression:"userInfo.ssn"}}),s("q-input",{staticStyle:{flex:"1"},attrs:{filled:"",dense:"",tabindex:"2",name:"email",autocomplete:"off",placeholder:"ایمیل"},model:{value:e.userInfo.email,callback:function(t){e.$set(e.userInfo,"email",t)},expression:"userInfo.email"}}),s("q-input",{staticStyle:{flex:"1"},attrs:{filled:"",dense:"",tabindex:"3",name:"firstname",autocomplete:"off",placeholder:"نام"},model:{value:e.userInfo.firstname,callback:function(t){e.$set(e.userInfo,"firstname",t)},expression:"userInfo.firstname"}}),s("q-input",{staticStyle:{flex:"1"},attrs:{filled:"",dense:"",tabindex:"4",name:"lastname",autocomplete:"off",placeholder:"نام خانوادگی"},model:{value:e.userInfo.lastname,callback:function(t){e.$set(e.userInfo,"lastname",t)},expression:"userInfo.lastname"}}),s("q-input",{staticStyle:{flex:"1"},attrs:{filled:"",dense:"",tabindex:"6",name:"password",type:"password",autocomplete:"off",placeholder:"گذرواژه"},model:{value:e.userInfo.pass,callback:function(t){e.$set(e.userInfo,"pass",t)},expression:"userInfo.pass"}}),s("q-input",{staticStyle:{flex:"1"},attrs:{filled:"",dense:"",tabindex:"7",rules:[function(t){return t===e.userInfo.pass||"گذرواژه به درستی تکرار نشد."}],type:"password",autocomplete:"off",placeholder:"تکرار گذرواژه"},model:{value:e.userInfo.confirmPass,callback:function(t){e.$set(e.userInfo,"confirmPass",t)},expression:"userInfo.confirmPass"}})],1)]):e._e()]),s("div",{staticStyle:{margin:"15px"}},[s("div",{staticClass:"row q-gutter-x-md"},[2===e.step?s("q-btn",{attrs:{outline:"",color:"secondary",padding:"sm",icon:"chevron_left"},on:{click:function(t){e.step--}}}):e._e(),"login"!=e.currPage||2!=e.step?s("q-btn",{class:"signup"===e.currPage?"bttnWidth":"",staticStyle:{height:"40px"},attrs:{disable:e.signCell.length>11,flat:"signup"===e.currPage,outline:"login"===e.currPage,color:"login"===e.currPage?"secondary":"",padding:"sm lg",label:e.signupLabel},on:{click:function(t){return e.signup()}}}):e._e(),"login"===e.currPage||1===e.step?s("q-btn",{class:"login"===e.currPage?"bttnWidth":"",staticStyle:{height:"40px"},attrs:{flat:"signup"!==e.currPage,outline:"signup"===e.currPage,color:"signup"===e.currPage?"secondary":"",padding:"sm lg",label:"ورود"},on:{click:function(t){return e.login()}}}):e._e()],1)])],1)},a=[],n=s("ded3"),i=s.n(n),o=s("2f62"),r={data(){return{step:1,currPage:"login",tab:"useEmail",logCell:"",logEmail:"",logPass:"",logVerifyCell:"",signCell:"",signVerifyCell:"",userInfo:{email:"",ssn:"",firstname:"",lastname:"",pass:"",confirmPass:""}}},methods:i()(i()({},Object(o["b"])("auth",["signin","checkCell","verifyCell","register"])),{},{login(){var e=this;if("signup"===this.currPage)this.currPage="login";else if(1===this.step)if("useEmail"===this.tab)this.signin({email:this.logEmail,pass:this.logPass}).then((e=>this.$router.push("/"))).catch((e=>console.error(e)));else{const t=this.logCell;this.checkCell({cellNum:t}).then((t=>{"existed"===t.data.msg?(e.currPage="login",e.step=2):(e.currPage="signup",e.step=2)})).catch((e=>console.error(e)))}else this.verifyCell({verifyCode:e.logVerifyCell,id:this.userId}).then((()=>this.$router.push("/"))).catch((e=>console.error(e)))},signup(){var e=this;if("login"===this.currPage)this.currPage="signup";else if("signup"===this.currPage)if(1===this.step)this.checkCell({cellNum:e.signCell}).then((function(){"currUser"===e.authStatus?(e.currPage="login",e.step=2):(e.currPage="signup",e.step=2)})).catch((e=>console.log(e)));else if(2===this.step)this.verifyCell({verifyCode:e.signVerifyCell,id:this.userId}).then((function(t){"new_user"===e.authStatus?(e.currPage="signup",e.step=3):this.$router.push("/")})).catch((e=>console.log(e)));else{const e=this.userInfo;this.register({userData:e,id:this.userId}).then((()=>this.$router.push("/"))).catch((e=>console.log(e)))}}}),computed:i()(i()({},Object(o["c"])("auth",["userId","authStatus"])),{},{signupLabel:function(){return 1===this.step?"ثبت نام":2===this.step?"ادامه":"ثبت اطلاعات کاربر"}})},c=r,u=(s("207e"),s("2877")),f=s("9989"),p=s("4983"),g=s("6a67"),d=s("27f9"),m=s("9c40"),h=s("eebe"),y=s.n(h),v=Object(u["a"])(c,l,a,!1,null,null,null);t["default"]=v.exports;y()(v,"components",{QPage:f["a"],QScrollArea:p["a"],QBtnToggle:g["a"],QInput:d["a"],QBtn:m["a"]})},"6f77":function(e,t,s){}}]);