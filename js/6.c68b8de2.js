"use strict";(self["webpackChunkariamin"]=self["webpackChunkariamin"]||[]).push([[6],{1006:(e,t,l)=>{l.r(t),l.d(t,{default:()=>O});var a=l(3673),n=l(2323),s=l(8880);const i=e=>((0,a.dD)("data-v-c8d8bca4"),e=e(),(0,a.Cn)(),e),o={key:0,class:"col fit relative-position"},d={class:"column"},r={class:"row items-center fit",style:{"border-top":"0.1px solid #A2ABB5"}},c={key:1},p={key:2},u=i((()=>(0,a._)("span",null,"Compose",-1))),m={key:3};function g(e,t,l,i,g,w){const k=(0,a.up)("q-item-label"),h=(0,a.up)("q-item-section"),f=(0,a.up)("q-btn"),_=(0,a.up)("q-item"),v=(0,a.up)("q-list"),b=(0,a.up)("q-slide-transition"),D=(0,a.up)("q-spinner"),y=(0,a.up)("q-inner-loading"),S=(0,a.up)("MoreInfo"),I=(0,a.up)("Edit"),x=(0,a.up)("Order"),C=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(C,{class:"column"},{default:(0,a.w5)((()=>[0===i.step?((0,a.wg)(),(0,a.iD)("div",o,[(0,a.wy)((0,a._)("div",null,[(0,a.Wm)(k,{header:"",class:"q-py-sm"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(i.trade.length+" items"),1)])),_:1}),(0,a.Wm)(v,{separator:""},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.listData,((e,l,o)=>((0,a.wg)(),(0,a.j4)(_,{key:o,class:"column"},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{class:"row q-pa-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{onClick:e=>i.selectItem(o)},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{lines:"1",class:"row items-center"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(i.translateMedString(l).generic+" "+i.translateMedString(l).dose),1)])),_:2},1024)])),_:2},1032,["onClick"]),parseInt(e.reduce(((e,t)=>i.translateMedString(e).stock+t)))<2e3?((0,a.wg)(),(0,a.j4)(h,{key:0,side:""},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{outline:"","no-caps":"",color:"primary",label:"Order",onClick:t[0]||(t[0]=e=>i.store.dispatch("app/update",{"page.step":3}))})])),_:1})):(0,a.kq)("",!0)])),_:2},1024),(0,a.wy)((0,a.Wm)(b,null,{default:(0,a.w5)((()=>[(0,a._)("div",null,[(0,a.Wm)(v,{separator:"",class:"bg-white rounded-borders"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e,((e,l)=>((0,a.wg)(),(0,a.j4)(_,{clickable:"",key:l,onClick:t[1]||(t[1]=e=>{i.store.dispatch("app/update",{"page.step":1}),i.selectedItemIndex=null})},{default:(0,a.w5)((()=>[(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(i.translateMedString(e).expiry_date+" - "+i.translateMedString(e).stock),1)])),_:2},1024)])),_:2},1024)))),128))])),_:2},1024)])])),_:2},1536),[[s.F8,o===i.selectedItemIndex]])])),_:2},1024)))),128))])),_:1})],512),[[s.F8,!i.showLoading]]),(0,a.Wm)(y,{showing:i.showLoading},{default:(0,a.w5)((()=>[(0,a.Wm)(D,{color:"primary",size:"3em"})])),_:1},8,["showing"]),((0,a.wg)(),(0,a.j4)(a.lR,{to:"#footer"},[(0,a._)("div",d,[(0,a._)("div",r,[(0,a.Wm)(f,{flat:"","no-caps":"",stack:"",label:"Inventory",icon:"inventory",class:(0,n.C_)("stocks"===i.listMode?"text-weight-bold text-primary":"text-weight-light text-grey"),onClick:t[2]||(t[2]=e=>{i.selectedItemIndex=null,i.listMode="stocks"}),style:{flex:"1"}},null,8,["class"]),(0,a.Wm)(f,{flat:"","no-caps":"",stack:"",label:"Trade",icon:"cached",class:(0,n.C_)("trade"===i.listMode?"text-weight-bold text-primary":"text-weight-light text-grey"),onClick:t[3]||(t[3]=e=>{i.selectedItemIndex=null,i.listMode="trade"}),style:{flex:"1"}},null,8,["class"])])])]))])):(0,a.kq)("",!0),1===i.step?((0,a.wg)(),(0,a.iD)("div",c,[(0,a.Wm)(S,null,{header:(0,a.w5)((()=>[((0,a.wg)(),(0,a.j4)(a.lR,{to:"#toolbarOpt"},[(0,a.Wm)(f,{flat:"",dense:"",round:"",icon:"more_vert",onClick:t[4]||(t[4]=e=>i.showDlg=!i.showDlg)})]))])),_:1})])):(0,a.kq)("",!0),2===i.step?((0,a.wg)(),(0,a.iD)("div",p,[(0,a.Wm)(I,{seed:i.makeMailSeed,data:i.store.state.hCare.mainMedListCache[i.selectedItemIndex]},null,8,["seed","data"]),((0,a.wg)(),(0,a.j4)(a.lR,{to:"#toolbarOpt"},[(0,a.Wm)(f,{flat:"","no-caps":"",label:"Send"})])),((0,a.wg)(),(0,a.j4)(a.lR,{to:"#toolbarTitle"},[u]))])):(0,a.kq)("",!0),3===i.step?((0,a.wg)(),(0,a.iD)("div",m,[(0,a.Wm)(x,{header:"Losartan",caption:"something about losartan"})])):(0,a.kq)("",!0)])),_:1})}l(71);var w=l(1959),k=l(3617),h=l(5404);const f=[{name:"name"},{name:"dose"},{name:"dosage"},{name:"company"},{name:"direction"}],_={D:"drug_code",G:"generic_id",E:"expiry_date",S:"stock",R:"recent"},v=["G|00106-D|00922-E|12/21-S|2300","G|00106-D|05551-E|11/21-S|2300","G|00106-D|05555-E|10/21-S|2300","G|00106-D|01391-E|09/21-S|2300","G|01395-D|05570-E|01/22-S|300","G|01395-D|26880-E|02/21-S|300"],b=["G|05519-D|00548-E|02/22-S|300","G|05519-D|32999-E|02/22-S|300","G|05519-D|20857-E|11/21-S|300","G|05519-D|00542-E|11/21-S|300","G|05519-D|32995-E|02/22-S|300","G|01395-D|05570-E|01/22-S|2300","G|01395-D|26880-E|02/21-S|2300"],D=(0,a.RC)((()=>Promise.all([l.e(736),l.e(770)]).then(l.bind(l,7850)))),y=(0,a.RC)((()=>l.e(609).then(l.bind(l,8609)))),S=(0,a.RC)((()=>l.e(627).then(l.bind(l,7627)))),I={props:["mainLoaded"],components:{MoreInfo:D,Edit:y,Order:S},setup(){const e=(0,k.oR)();let t=(0,w.iH)([]),l=(0,w.iH)(!0);const n=(0,w.iH)(null),s=(0,w.iH)(!1),i=(0,w.iH)("stocks"),o=(0,w.Fl)((()=>e.state.app.page.step));(0,a.bv)((()=>{h.Z.idb("get","med_info","med_list").then((e=>t.value=e)).then((()=>l.value=!1))}));const d=e=>{let l={},a="string"===typeof e?[e]:[...e];for(let n of a){let e=n.split("|");"D"===e[0]&&(l={...t.value[e[1]]}),"G"===e[0]&&(l={...Object.values(t.value).filter((t=>t.generic_id===parseInt(e[1])))[0]}),l[_[e[0]]]=e[1]}return l},r=e=>{let t={};for(let l of e){let e=l.split("-"),a=e.shift();e.join("-"),a in t?t[a].push(e):t[a]=[e]}return t},c=(0,w.Fl)((()=>{let e="stocks"===i.value?v:b;return r(e)})),p=e=>{n.value===e?n.value=null:n.value=e},u=(e,t,l)=>0===t||(e[t][l]!==e[t-1][l]||void 0);return{store:e,showDlg:s,step:o,selectedItemIndex:n,mainMedListCache:t,showLoading:l,listData:c,listMode:i,makeMailSeed:f,inventory:v,trade:b,selectItem:p,showHeader:u,translateMedString:d}}};var x=l(4260),C=l(4379),W=l(2350),M=l(7011),q=l(3414),E=l(2035),G=l(8240),Z=l(2471),j=l(6941),L=l(9754),Q=l(7518),R=l.n(Q);const H=(0,x.Z)(I,[["render",g],["__scopeId","data-v-c8d8bca4"]]),O=H;R()(I,"components",{QPage:C.Z,QItemLabel:W.Z,QList:M.Z,QItem:q.Z,QItemSection:E.Z,QBtn:G.Z,QSlideTransition:Z.Z,QInnerLoading:j.Z,QSpinner:L.Z})}}]);