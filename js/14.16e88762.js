(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{"333f":function(t,e,a){},"38a0":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"column"},[a("div",{ref:"horizontalCal",staticClass:"column",staticStyle:{overflow:"hidden"}}),a("div",{staticClass:"column",staticStyle:{flex:"1"}},[a("q-scroll-area",{staticClass:"column",staticStyle:{flex:"1"}},t._l(t.tasks,(function(e,s){return a("div",{key:e+s,on:{click:function(a){return t.selected("click",s,e.id)}}},[a("a-item",{attrs:{item:e,idVal:s,title:e.title,caption:e.time[0],sideCaptionTop:e.group},on:{selected:function(e){return t.selected("hold",s)}}})],1)})),0)],1),a("q-page-sticky",{attrs:{position:"bottom-right",offset:[18,65]}},[a("q-btn",{staticStyle:{"z-itemId":"2002"},attrs:{unelevated:"",round:"",padding:"md",icon:"r_add",color:"secondary"},on:{click:function(e){return t.addProject()}}})],1),a("q-separator"),t.ifMobileScreen?a("div",{staticClass:"row justify-evenly items-center",staticStyle:{height:"50px"}},[a("q-btn",{staticClass:"row items-center",attrs:{rounded:"",flat:"event"!==t.mode,unelevated:"event"===t.mode,color:"event"===t.mode?"secondary":"",label:"event"===t.mode?"event":""},on:{click:function(e){t.mode="event"}}},["task"===t.mode?a("q-icon",{attrs:{name:"o_event"}}):t._e()],1),a("q-btn",{staticClass:"row items-center",attrs:{rounded:"",flat:"task"!==t.mode,unelevated:"task"===t.mode,color:"task"===t.mode?"secondary":"",label:"task"===t.mode?"task":""},on:{click:function(e){t.mode="task"}}},["event"===t.mode?a("q-icon",{attrs:{name:"o_task"}}):t._e()],1)],1):t._e(),a("q-dialog",{attrs:{maximized:"","transition-show":"slide-up","transition-hide":"slide-down"},model:{value:t.showInfoDialog,callback:function(e){t.showInfoDialog=e},expression:"showInfoDialog"}},[a("a-article",{attrs:{itemId:t.itemId},on:{closeDialog:function(e){t.showInfoDialog=!1}},scopedSlots:t._u([{key:"group",fn:function(){return[t._v(t._s(t.filteredItem.group))]},proxy:!0},{key:"title",fn:function(){return[t._v(t._s(t.filteredItem.title))]},proxy:!0},{key:"tag",fn:function(){},proxy:!0},{key:"description",fn:function(){return[t._v(t._s(t.filteredItem.desc))]},proxy:!0},{key:"actionBtn",fn:function(){return[a("q-btn",{attrs:{round:"",flat:"",icon:"o_delete"},on:{click:function(e){return t.deleteCurrTask()}}}),a("q-btn",{attrs:{round:"",flat:"",icon:"o_edit"},on:{click:function(e){return t.editTaskDialog()}}}),a("q-btn",{attrs:{round:"",flat:"",icon:"r_share"}}),a("q-space"),a("q-btn",{attrs:{unelevated:"","no-caps":"",color:"secondary",icon:"r_check",label:"Mark Complete"},on:{click:function(e){return t.markTaskComplete()}}})]},proxy:!0}])})],1)],1)},i=[],o=a("ded3"),n=a.n(o),l=(a("ddb0"),a("ac1f"),a("2f62")),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-dialog",{ref:"dialog",attrs:{maximized:"","transition-show":"slide-up","transition-hide":"slide-down"}},[a("q-card",{staticClass:"column",class:t.$q.dark.isActive?"bg-blue-grey-10 text-white":"bg-grey-2 text-black"},[a("div",{staticClass:"cordova-only",staticStyle:{height:"24px"}}),a("q-card-section",{staticClass:"row q-pb-none"},[a("q-space"),a("q-btn",{attrs:{icon:"close",flat:"",round:"",dense:""},on:{click:t.onCancelClick}})],1),a("q-card-section",{staticClass:"column q-pt-none",staticStyle:{flex:"1"}},[a("q-scroll-area",{staticClass:"column",staticStyle:{flex:"1"},attrs:{"bar-style":{background:"transparent"},"thumb-style":{background:"transparent"}}},[a("div",{staticClass:"row items-center"},[a("q-icon",{staticClass:"q-px-sm text-grey-8",attrs:{size:"sm",name:"o_text_fields"}}),a("div",{staticClass:"q-px-xs",staticStyle:{flex:"1"}},[a("q-input",{staticClass:"text-subtitle1 bg-tranparent",attrs:{standard:"",dense:"",autogrow:"","bg-color":"transparent",placeholder:t.$t("title")},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),t._v("‍‍\n        ")],1),a("q-separator",{attrs:{spaced:""}}),void 0===t.taskId?a("div",{staticClass:"row items-center"},[a("q-icon",{staticClass:"text-grey-8 q-pl-md",attrs:{size:"sm",name:""}}),a("div",{staticClass:"q-gutter-x-sm",staticStyle:{flex:"1"}},[a("q-btn",{class:"event"===t.type?"bg-secondary text-white":"",attrs:{unelevated:"","no-caps":"",label:"Event"},on:{click:function(e){t.type="event"}}}),a("q-btn",{class:"task"===t.type?"bg-secondary text-white":"",attrs:{unelevated:"","no-caps":"",label:"Task"},on:{click:function(e){t.type="task"}}})],1),t._v("‍‍\n        ")],1):t._e(),void 0===t.taskId?a("q-separator",{attrs:{spaced:""}}):t._e(),a("div",{staticClass:"row items-center"},[a("q-icon",{staticClass:"text-grey-8 q-px-sm",attrs:{size:"sm",name:"o_label"}}),a("div",{staticClass:"q-px-xs",staticStyle:{flex:"1"}},[t._l(t.taskTags,(function(e,s){return a("q-chip",{key:e+s,attrs:{clickable:"",removable:t.tagSelected===e,color:t.tagSelected!==e?"grey-4":"teal-3","text-color":t.tagSelected!==e?"grey-10":"teal-10"},on:{click:function(a){return t.selectTags(e,s)},remove:function(e){t.showDeleteTagDialog=!0,t.tagIndex=s},blur:function(e){t.tagSelected=null}}},[t._v("\n              "+t._s(e)+"\n            ")])})),a("q-btn",{staticClass:"q-ma-xs",attrs:{unelevated:"",round:"",size:"9px",color:"grey-4","text-color":"grey-10",icon:"r_add"},on:{click:function(e){t.showAddTagDialog=!0,t.tagDialog=null}}})],2),t._v("‍‍\n        ")],1),a("q-separator",{attrs:{spaced:""}}),a("div",{staticClass:"row items-center",staticStyle:{"font-size":"16px"}},[a("q-icon",{staticClass:"q-px-sm text-grey-8",attrs:{size:"sm",name:"r_schedule"}}),a("div",{staticClass:"column",staticStyle:{flex:"1"}},[a("div",{staticClass:"row justify-between",class:{errorColor:t.ifError},staticStyle:{height:"40px"}},[a("div",{staticClass:"row q-pa-sm justify-center"},["event"===t.type?a("span",[t._v(t._s(t.$t("start"))+" - ")]):t._e(),"task"===t.type?a("span",[t._v(t._s(t.$t("dueDate"))+" - ")]):t._e(),a("span",[t._v(t._s(t.startDate))]),a("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{"today-btn":"",color:"secondary"},model:{value:t.picker.startDate,callback:function(e){t.$set(t.picker,"startDate",e)},expression:"picker.startDate"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Close",color:"secondary"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK",color:"secondary"},on:{click:function(e){t.startDate=t.picker.startDate,t.finishDate=t.startDate}}})],1)])],1)],1),a("div",{staticClass:"column justify-center"},[a("span",[t._v(t._s(t.startTime))]),a("q-popup-proxy",{attrs:{"now-btn":"","transition-show":"scale","transition-hide":"scale"}},[a("q-time",{attrs:{"now-btn":"",color:"secondary","text-color":"black"},model:{value:t.picker.startTime,callback:function(e){t.$set(t.picker,"startTime",e)},expression:"picker.startTime"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"secondary"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK",color:"secondary"},on:{click:function(e){t.startTime=t.picker.startTime,t.finishTime=t.startTime,t.picker.finishTime=t.startTime}}})],1)])],1)],1)]),"event"===t.type?a("div",{staticClass:"row justify-between",staticStyle:{height:"40px"}},[a("div",{staticClass:"row q-pa-sm justify-center"},[a("span",[t._v(t._s(t.$t("finish"))+" - ")]),a("span",[t._v(t._s(t.finishDate))]),a("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{"today-btn":"",color:"secondary",options:t.optionsDate},model:{value:t.picker.finishDate,callback:function(e){t.$set(t.picker,"finishDate",e)},expression:"picker.finishDate"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Close",color:"secondary"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK",color:"secondary"},on:{click:function(e){t.finishDate=t.picker.finishDate}}})],1)])],1)],1),a("div",{staticClass:"column justify-center"},[a("span",[t._v(t._s(t.finishTime))]),a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-time",{attrs:{"now-btn":"",color:"secondary","text-color":"black",options:t.optionsTime},model:{value:t.picker.finishTime,callback:function(e){t.$set(t.picker,"finishTime",e)},expression:"picker.finishTime"}},[a("div",{staticClass:"row items-center justify-end q-gutter-sm"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"secondary"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK",color:"secondary"},on:{click:function(e){t.finishTime=t.picker.finishTime}}})],1)])],1)],1)]):t._e()])],1),a("q-separator",{attrs:{spaced:""}}),a("div",{staticClass:"row items-center"},[a("q-icon",{staticClass:"text-grey-8 q-px-sm",attrs:{size:"sm",name:"o_subject"}}),a("div",{staticClass:"q-px-xs",staticStyle:{flex:"1"}},[a("q-input",{staticClass:"text-subtitle1",attrs:{standard:"",dense:"",autogrow:"","bg-color":"transparent",placeholder:t.$t("description")},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1),t._v("‍‍\n        ")],1),"event"===t.type?a("q-separator",{attrs:{spaced:""}}):t._e(),"event"===t.type?a("div",{staticClass:"row items-center"},[a("q-icon",{staticClass:"text-grey-8 q-px-sm",attrs:{size:"sm",name:"o_place"}}),a("div",{staticClass:"q-px-xs",staticStyle:{flex:"1"}},[a("q-input",{staticClass:"text-subtitle1",attrs:{standard:"",dense:"",autogrow:"","bg-color":"transparent",placeholder:t.$t("location")},model:{value:t.location,callback:function(e){t.location=e},expression:"location"}})],1),t._v("‍‍\n        ")],1):t._e(),a("q-separator",{attrs:{spaced:""}}),a("div",{staticClass:"row items-center"},[a("q-icon",{staticClass:"text-grey-8 q-pa-sm q-pl-sm",attrs:{size:"sm",name:"o_people"}}),a("div",{staticClass:"q-px-xs",staticStyle:{flex:"1"}},[a("q-input",{staticClass:"text-subtitle1",attrs:{standard:"",dense:"",autogrow:"","bg-color":"transparent",placeholder:t.$t("addGroupOrPeople")},model:{value:t.group,callback:function(e){t.group=e},expression:"group"}})],1),t._v("‍‍\n        ")],1)],1)],1),a("q-card-section",{staticClass:"row"},[a("q-btn",{staticStyle:{flex:"1"},attrs:{unelevated:"",color:"secondary",label:t.$t("save")},on:{click:function(e){t.saveAndSend(),t.hide()}}})],1)],1),a("q-dialog",{attrs:{"full-width":""},model:{value:t.showAddTagDialog,callback:function(e){t.showAddTagDialog=e},expression:"showAddTagDialog"}},[a("q-card",[a("q-card-section",{staticClass:"q-pt-none"},[a("q-input",{staticClass:"text-subtitle1",attrs:{autofocus:"",placeholder:"Enter tag"},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.showAddTagDialog=!1}},model:{value:t.tagDialog,callback:function(e){t.tagDialog=e},expression:"tagDialog"}})],1),a("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Add"},on:{click:function(e){return t.addTag()}}})],1)],1)],1),a("q-dialog",{attrs:{"full-width":"",persistent:""},model:{value:t.showDeleteTagDialog,callback:function(e){t.showDeleteTagDialog=e},expression:"showDeleteTagDialog"}},[a("q-card",[a("q-card-section",{staticClass:"row items-center"},[a("span",{staticClass:"q-ml-sm"},[t._v("Delete tag.")])]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK"},on:{click:function(e){return t.taskTags.splice(t.tagIndex,1)}}})],1)],1)],1)],1)},c=[],d=(a("e01a"),a("bd4c"));const p=Date.now();var u={data(){return{picker:{startDate:d["b"].formatDate(p,"YYYY/MM/DD"),startTime:d["b"].formatDate(p,"HH:mm"),finishDate:"",finishTime:""},title:null,type:"event",taskTags:[],startDate:"2021/01/10",startTime:"13:11",finishDate:"",finishTime:"",description:null,location:null,group:null,tagIndex:null,tagSelected:null,showAddTagDialog:!1,tagDialog:null,showDeleteTagDialog:!1}},props:["persianDate","taskId"],beforeMount(){var t=this;if(void 0!==this.taskId){const e=this.tasks[t.taskId];t.title=e.title,t.type=e.type,t.taskTags=e.tag,t.description=e.desc,t.group=e.group,"event"===e.type?(t.picker.startDate=e.time[0],t.picker.finishDate=e.time[1]):t.picker.startDate=e.time[0]}this.startDate=this.picker.startDate,this.startTime=this.picker.startTime,this.picker.finishDate=this.startDate,this.picker.finishTime=this.startTime,this.finishDate=this.startDate,this.finishTime=this.startTime},computed:n()(n()({},Object(l["c"])("calendar",["tasks"])),{},{ifError(){const t=this.startDate+" "+this.startTime,e=this.finishDate+" "+this.finishTime,a=Date.parse(t),s=Date.parse(e);return a>s}}),methods:n()(n()({},Object(l["b"])("calendar",["calDateSelect","addTask"])),{},{show(){this.$refs.dialog.show()},hide(){this.$refs.dialog.hide()},onDialogHide(){this.$emit("hide")},onOKClick(){this.$emit("ok"),this.hide()},onCancelClick(){this.hide()},optionsDate(t){return t>=this.startDate},optionsTime(t,e){return!(t<parseInt(this.startTime.split(":")[0]))&&!(null!==e&&e<parseInt(this.startTime.split(":")[1]))},selectTags(t,e){this.tagSelected!==t&&(this.tagSelected=t)},addTag(){""===this.tagDialog||this.taskTags.includes(this.tagDialog)||this.taskTags.push(this.tagDialog)},saveAndSend(){null===this.title||""===this.title?alert(`${this.type} به عنوان نیاز دارد`):!0===this.ifError&&"event"===this.type?alert("تاریخ شروع رویداد نمی تواند بعد از تاریخ پایان آن باشد"):this.addTask({index:void 0===this.taskId?null:this.taskId,type:this.type,group:this.group,title:this.title,created:new Date,createdBy:null,time:[this.startDate],desc:this.description,tags:this.taskTags})}})},m=u,h=(a("5e8d"),a("2877")),f=a("24e8"),g=a("f09f"),k=a("a370"),v=a("2c91"),y=a("9c40"),b=a("4983"),q=a("0016"),D=a("27f9"),w=a("eb85"),x=a("b047"),C=a("7cbe"),T=a("52ee"),_=a("ca78"),S=a("4b7e"),I=a("7f67"),$=a("eebe"),j=a.n($),Q=Object(h["a"])(m,r,c,!1,null,null,null),O=Q.exports;j()(Q,"components",{QDialog:f["a"],QCard:g["a"],QCardSection:k["a"],QSpace:v["a"],QBtn:y["a"],QScrollArea:b["a"],QIcon:q["a"],QInput:D["a"],QSeparator:w["a"],QChip:x["a"],QPopupProxy:C["a"],QDate:T["a"],QTime:_["a"],QCardActions:S["a"]}),j()(Q,"directives",{ClosePopup:I["a"]});var A=a("184b"),z={weekday:"long",year:"numeric",month:"long",day:"numeric"};const N=new Date;var E={components:{aItem:()=>Promise.all([a.e(0),a.e(1)]).then(a.bind(null,"8c64")),aArticle:()=>a.e(1).then(a.bind(null,"d31b"))},data(){return{itemId:0,showInfoDialog:!1,mode:"event",persianDate:N.toLocaleDateString("fa-ir",z),taskForDay:null,taskCount:null,eventCount:null,itemSelected:[]}},mixins:[A["a"]],computed:n()(n()(n()(n()({},Object(l["d"])("calendar",["tasks"])),Object(l["d"])("appState",["footerEditMode","listItemSelected"])),Object(l["c"])("calendar",["today","calendar"])),{},{dayArray(){return new Date((new Date).getYear()+1900,(new Date).getMonth(),0).getDate()},dayName(t){var e=new Date((new Date).getYear()+1900,(new Date).getMonth(),t).toString().split(" ")[0],a=e;return a},filteredItem(){return this.tasks.filter((t=>t.id===this.itemId))[0]}}),methods:n()(n()(n()({},Object(l["b"])("calendar",["calDaySelect","calToday"])),Object(l["b"])("appState",["setStep","setItemsSelected"])),{},{scrollToElement(t,e){const a=t.offsetLeft,s=300;this.$refs.dateArray.setScrollPosition(a-(e-28.5),s)},daySelect(t){this.calDaySelect({day:t}),this.scrollToElement(this.$refs["day"+this.calendar.date][0].$el,this.$refs.horizontalCal.clientWidth/2)},viewTask(t){this.itemId=t,this.showInfoDialog=!0},addProject(){this.$q.dialog({component:O,parent:this,persistent:!0}).onOk((()=>{})).onCancel((()=>{})).onDismiss((()=>{}))},markTaskComplete(){},editTask(t,e,a){var s={id:this.itemId,item:e,input:a};this.changeText(s)},deleteCurrTask(){this.$q.dialog({message:"Delete "+this.tasks[this.itemId].type,cancel:!0,persistent:!0}).onOk((()=>{this.deleteTask({itemId:this.itemId}),this.hide()})).onOk((()=>{})).onCancel((()=>{})).onDismiss((()=>{}))},editTaskDialog(){this.$q.dialog({component:O,parent:this,persistent:!0,itemId:this.itemId}).onOk((()=>{})).onCancel((()=>{})).onDismiss((()=>{}))},selected(t,e,a){"hold"===t?this.setItemsSelected({mode:t,key:e}):"click"===t&&(this.footerEditMode?this.setItemsSelected({mode:t,key:e}):this.viewTask(a))}})},P=E,M=a("9989"),K=a("b498"),Y=a("de5e"),B=Object(h["a"])(P,s,i,!1,null,"11350c76",null);e["default"]=B.exports;j()(B,"components",{QPage:M["a"],QScrollArea:b["a"],QBtn:y["a"],QColor:K["a"],QPageSticky:Y["a"],QSeparator:w["a"],QIcon:q["a"],QDialog:f["a"],QSpace:v["a"]})},"5e8d":function(t,e,a){"use strict";a("333f")}}]);