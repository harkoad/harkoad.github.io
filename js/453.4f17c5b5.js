"use strict";(self["webpackChunkariamin"]=self["webpackChunkariamin"]||[]).push([[453],{8453:(e,l,a)=>{a.r(l),a.d(l,{default:()=>L});var t=a(3673),n=a(8880),o=a(1959),s=a(2323),d=a(3001),u=a(8452);const p={key:0,class:"q-ma-sm"},c={class:"row items-center"},m=(0,t.Uk)("Patient information"),i={class:"col-12"},r=["src"],U={class:"row items-center justify-end q-gutter-sm"},S={class:"row items-center"},y=(0,t.Uk)(" Physician information "),w={emits:["onSuccess"],setup(e,{emit:l}){const{methods:a,state:w,tables:v}=d.Z,f=(0,o.iH)(null),W=(0,o.iH)(null),g=(0,o.iH)(!1),b=(0,o.iH)(!1),k=(0,o.iH)(null),_=(0,o.Fl)((()=>{let e=v.insureFormShow[w.insParty][w.prescType];return!e||((l,a)=>g.value&&"pat"===l?"pat"===l:b.value&&"phy"===l?"phy"===l:e.some((e=>e===a)))})),F=async()=>{f.value.validate()&&(k.value=await a.insuranceApi("getCiti"))},h=()=>{W.value.validate(),setTimeout((()=>{W.value.hasError||a.insuranceApi("getPresc")}),100)},q=async()=>{let e=w;e.specialty&&e.licence&&e.prescCreateDate&&a.insuranceApi("getDoc")},C=()=>{a.dlgConf({step:2,title:"Salamat Login",type:"sign"}),a.update([["cparty",null]]),localStorage.removeItem("salamat-cred")};return(e,l)=>{const v=(0,t.up)("q-item-label"),k=(0,t.up)("q-item-section"),V=(0,t.up)("q-btn"),Z=(0,t.up)("q-item"),P=(0,t.up)("q-avatar"),Q=(0,t.up)("q-separator"),T=(0,t.up)("q-icon"),I=(0,t.up)("q-input"),D=(0,t.up)("q-select"),L=(0,t.up)("q-spinner"),x=(0,t.up)("q-date"),A=(0,t.up)("q-popup-proxy"),z=(0,t.up)("q-form"),j=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(z,{class:"column",onSubmit:l[25]||(l[25]=(0,n.iM)((()=>{}),["stop"]))},{default:(0,t.w5)((()=>[(0,o.SU)(w).cparty?((0,t.wg)(),(0,t.iD)("div",p,[(0,t.Wm)(Z,{class:"shadow-1 rounded-borders"},{default:(0,t.w5)((()=>[(0,t.Wm)(k,null,{default:(0,t.w5)((()=>[(0,t.Wm)(v,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)((0,o.SU)(w).cparty.partnerName),1)])),_:1}),(0,t.Wm)(v,{caption:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)((0,o.SU)(w).cparty.fullName),1)])),_:1})])),_:1}),(0,t.Wm)(k,{side:""},{default:(0,t.w5)((()=>[(0,t.Wm)(V,{flat:"",dense:"",round:"",icon:"logout",onClick:C})])),_:1})])),_:1})])):(0,t.kq)("",!0),(0,t._)("div",c,[(0,t.Wm)(v,{header:"",class:"text-primary",style:{flex:"1"}},{default:(0,t.w5)((()=>[m])),_:1}),(0,t.Wm)(V,{flat:"",round:"",class:"q-mr-sm",icon:"edit",onClick:l[0]||(l[0]=e=>g.value=!g.value)})]),(0,t.Wm)(z,{class:"row q-px-sm q-col-gutter-sm",onSubmit:l[16]||(l[16]=(0,n.iM)((()=>{}),["prevent"]))},{default:(0,t.w5)((()=>[(0,t.wy)((0,t._)("div",i,[(0,t.Wm)(Z,{class:"shadow-1 rounded-borders"},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{avatar:""},{default:(0,t.w5)((()=>[(0,t.Wm)(P,null,{default:(0,t.w5)((()=>[(0,t._)("img",{src:(0,o.SU)(w).patImage,alt:"#"},null,8,r)])),_:1})])),_:1}),(0,t.Wm)(k,null,{default:(0,t.w5)((()=>[(0,t.Wm)(v,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)((0,o.SU)(w).patFirstname+" "+(0,o.SU)(w).patLastname),1)])),_:1}),(0,t.Wm)(v,{caption:""},{default:(0,t.w5)((()=>[(0,t.Uk)(" Age: "+(0,s.zw)((0,o.SU)(w).age)+" - Gender: "+(0,s.zw)((0,o.SU)(w).gender),1)])),_:1})])),_:1}),(0,t.Wm)(k,{side:""},{default:(0,t.w5)((()=>[(0,t.Wm)(V,{flat:"",dense:"","no-caps":"",label:"Expand",onClick:l[1]||(l[1]=e=>(0,o.SU)(a).dlgConf({type:"userinfo"}))})])),_:1})])),_:1})],512),[[n.F8,Object.keys((0,o.SU)(w).patInfoUI).length]]),(0,t.Wm)(I,{outlined:"",dense:"",clearable:"","hide-bottom-space":"",debounce:"200",ref_key:"ssnInptRef",ref:f,class:"col-12",label:"Socal Security #",type:"tel",mask:"#################",loading:"load"===(0,o.SU)(w).load["ssn"],rules:[e=>e.length>=10||"10 digits or more is needed!"],"model-value":(0,o.SU)(w).ssn,"onUpdate:modelValue":l[4]||(l[4]=e=>{(0,o.SU)(a).update([["ssn",e]]),(0,o.SU)(a).clearPatient(),F()}),onKeypress:(0,n.D2)(F,["enter"])},{prepend:(0,t.w5)((()=>[(0,t.Wm)(V,{flat:"",dense:"","no-caps":"",class:"q-mr-sm",label:(0,o.SU)(w).prescType,onClick:l[2]||(l[2]=()=>"online"===(0,o.SU)(w).prescType?(0,o.SU)(a).update([["prescType","paper"]]):(0,o.SU)(a).update([["prescType","online"]]))},null,8,["label"]),(0,t.Wm)(Q,{vertical:""})])),append:(0,t.w5)((()=>[(0,o.SU)(w).ssn&&""!==(0,o.SU)(w).ssn&&"load"!==(0,o.SU)(w).load["ssn"]?((0,t.wg)(),(0,t.j4)(T,{key:0,name:"search",onClick:F})):(0,t.kq)("",!0),(0,t.wy)((0,t.Wm)(T,{name:"qr_code_scanner",onClick:l[3]||(l[3]=e=>(0,o.SU)(a).update([["dialogType","qr"]]))},null,512),[[n.F8,[null,""].some((e=>(0,o.SU)(w).ssn===e))]])])),_:1},8,["loading","rules","model-value","onKeypress"]),(0,t.Wm)(D,{outlined:"",dense:"","hide-dropdown-icon":"","model-value":(0,o.SU)(w).insParty,class:(0,s.C_)(["text-capitalize",(0,o.SU)(_)("pat","trackCode")?"col-4":"col-12"]),options:["salamat","tamin"],label:"Insurance Party","onUpdate:modelValue":l[5]||(l[5]=e=>(0,o.SU)(a).update([["insParty",e]]))},null,8,["model-value","class"]),(0,t.wy)((0,t.Wm)(I,{outlined:"",dense:"","hide-bottom-space":"",debounce:"200",ref_key:"trackInptRef",ref:W,class:"col-8",type:"tel",label:"Tracking #",mask:"#####",rules:[e=>5===e.length||"5 digits only!"],"model-value":(0,o.SU)(w).trackCode,"onUpdate:modelValue":l[6]||(l[6]=e=>{(0,o.SU)(a).update([["trackCode",e]]),h()})},{append:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(L,null,null,512),[[n.F8,"load"===(0,o.SU)(w).load.track]]),(0,t.wy)((0,t.Wm)(T,{name:"ok"===(0,o.SU)(w).load.track?"done":"warning",color:"ok"===(0,o.SU)(w).load.track?"positive":"warning"},null,8,["name","color"]),[[n.F8,["ok","err"].some((e=>e===(0,o.SU)(w).load.track))]])])),_:1},8,["rules","model-value"]),[[n.F8,(0,o.SU)(_)("pat","trackCode")]]),(0,t.wy)((0,t.Wm)(I,{outlined:"",dense:"","model-value":(0,o.SU)(w).insSerial,class:"col-12",label:"Insurance Serial #","onUpdate:modelValue":l[7]||(l[7]=e=>(0,o.SU)(a).update([["insSerial",e]]))},null,8,["model-value"]),[[n.F8,(0,o.SU)(_)("pat","insSerial")]]),(0,t.wy)((0,t.Wm)(I,{outlined:"",dense:"","model-value":(0,o.SU)(w).insPage,class:"col-12",label:"Page #","onUpdate:modelValue":l[8]||(l[8]=e=>(0,o.SU)(a).update([["insPage",e]]))},null,8,["model-value"]),[[n.F8,(0,o.SU)(_)("pat","insPage")]]),(0,t.wy)((0,t.Wm)(I,{outlined:"",dense:"",class:"col-12",label:"Visit Date","model-value":(0,o.SU)(w).prescCreateDate,"onUpdate:modelValue":l[10]||(l[10]=e=>(0,o.SU)(a).update([["prescCreateDate",e]]))},{default:(0,t.w5)((()=>[(0,t.Wm)(A,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,t.w5)((()=>[(0,t.Wm)(x,{"today-btn":"",locale:(0,o.SU)(d.Z).locale,calendar:"persian","model-value":(0,o.SU)(w).prescCreateDate,"onUpdate:modelValue":l[9]||(l[9]=e=>(0,o.SU)(a).update([["prescCreateDate",e]]))},{default:(0,t.w5)((()=>[(0,t._)("div",U,[(0,t.wy)((0,t.Wm)(V,{flat:"",label:"OK",color:"primary"},null,512),[[j]])])])),_:1},8,["locale","model-value"])])),_:1})])),_:1},8,["model-value"]),[[n.F8,(0,o.SU)(_)("pat","prescCreateDate")]]),(0,t.wy)((0,t.Wm)(I,{outlined:"",dense:"","model-value":(0,o.SU)(w).patFirstname,class:"col-12",label:"Firstname","onUpdate:modelValue":l[11]||(l[11]=e=>(0,o.SU)(a).update([["patFirstname",e]]))},null,8,["model-value"]),[[n.F8,(0,o.SU)(_)("pat","patFirstname")]]),(0,t.wy)((0,t.Wm)(I,{outlined:"",dense:"","model-value":(0,o.SU)(w).patLastname,class:"col-12",label:"Lastname","onUpdate:modelValue":l[12]||(l[12]=e=>(0,o.SU)(a).update([["patLastname",e]]))},null,8,["model-value"]),[[n.F8,(0,o.SU)(_)("pat","patLastname")]]),(0,t.wy)((0,t.Wm)(I,{outlined:"",dense:"","model-value":(0,o.SU)(w).age,class:"col-6",label:"Age",type:"tel","onUpdate:modelValue":l[13]||(l[13]=e=>(0,o.SU)(a).update([["age",e]]))},null,8,["model-value"]),[[n.F8,(0,o.SU)(_)("pat","age")]]),(0,t.wy)((0,t.Wm)(D,{outlined:"",dense:"","model-value":(0,o.SU)(w).gender,class:"col-6",options:["Female","Male"],label:"Gender","onUpdate:modelValue":l[14]||(l[14]=e=>(0,o.SU)(a).update([["gender",e]]))},null,8,["model-value"]),[[n.F8,(0,o.SU)(_)("pat","gender")]]),(0,t.wy)((0,t.Wm)(I,{outlined:"",dense:"","model-value":(0,o.SU)(w).patTel,label:"Phone #",class:"col-12",type:"tel","onUpdate:modelValue":l[15]||(l[15]=e=>(0,o.SU)(a).update([["patTel",e]]))},null,8,["model-value"]),[[n.F8,(0,o.SU)(_)("pat","patTel")]])])),_:1}),(0,t._)("div",S,[(0,t.Wm)(v,{header:"",class:"text-primary",style:{flex:"1"}},{default:(0,t.w5)((()=>[y])),_:1}),(0,t.Wm)(V,{flat:"",round:"",class:"q-mr-sm",icon:"edit",onClick:l[17]||(l[17]=e=>b.value=!b.value)})]),(0,t.Wm)(z,{class:"q-px-sm q-pb-sm q-col-gutter-sm",onSubmit:l[24]||(l[24]=(0,n.iM)((()=>{}),["prevent"]))},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(D,{outlined:"",dense:"","model-value":(0,o.SU)(w).specialty,options:Object.keys((0,o.SU)(u.Z).tables.specilaity),label:"Specialty","onUpdate:modelValue":l[18]||(l[18]=e=>(0,o.SU)(a).update([["specialty",e]]))},null,8,["model-value","options"]),[[n.F8,(0,o.SU)(_)("phy","specialty")]]),(0,t.wy)((0,t.Wm)(I,{outlined:"",dense:"",debounce:"200",loading:"load"===(0,o.SU)(w).load["licence"],"model-value":(0,o.SU)(w).licence,label:"Licence #",type:"search","onUpdate:modelValue":l[20]||(l[20]=e=>(0,o.SU)(a).update([["licence",e]])),onKeypress:(0,n.D2)(q,["enter"])},{append:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(T,{name:"search",onClick:l[19]||(l[19]=e=>q())},null,512),[[n.F8,"load"!==(0,o.SU)(w).load["licence"]&&(0,o.SU)(w).licence&&""!==(0,o.SU)(w).licence]])])),_:1},8,["loading","model-value","onKeypress"]),[[n.F8,(0,o.SU)(_)("phy","licence")]]),(0,t.wy)((0,t.Wm)(I,{outlined:"",dense:"","model-value":(0,o.SU)(w).docFirstname,label:"Firstname","onUpdate:modelValue":l[21]||(l[21]=e=>(0,o.SU)(a).update([["docFirstname",e]]))},null,8,["model-value"]),[[n.F8,(0,o.SU)(_)("phy","docFirstname")]]),(0,t.wy)((0,t.Wm)(I,{outlined:"",dense:"","model-value":(0,o.SU)(w).docLastname,label:"Lastname","onUpdate:modelValue":l[22]||(l[22]=e=>(0,o.SU)(a).update([["docLastname",e]]))},null,8,["model-value"]),[[n.F8,(0,o.SU)(_)("phy","docLastname")]]),(0,t.wy)((0,t.Wm)(I,{outlined:"",dense:"","model-value":(0,o.SU)(w).docTel,label:"Phone #",type:"tel","onUpdate:modelValue":l[23]||(l[23]=e=>(0,o.SU)(a).update([["docTel",e]]))},null,8,["model-value"]),[[n.F8,(0,o.SU)(_)("phy","docTel")]])])),_:1})])),_:1})}}};var v=a(5269),f=a(3414),W=a(2035),g=a(2350),b=a(8240),k=a(5096),_=a(4689),F=a(5869),h=a(4554),q=a(3314),C=a(9754),V=a(3944),Z=a(6915),P=a(9367),Q=a(677),T=a(7518),I=a.n(T);const D=w,L=D;I()(w,"components",{QForm:v.Z,QItem:f.Z,QItemSection:W.Z,QItemLabel:g.Z,QBtn:b.Z,QAvatar:k.Z,QInput:_.Z,QSeparator:F.Z,QIcon:h.Z,QSelect:q.Z,QSpinner:C.Z,QPopupProxy:V.Z,QDate:Z.Z,QCardActions:P.Z}),I()(w,"directives",{ClosePopup:Q.Z})}}]);